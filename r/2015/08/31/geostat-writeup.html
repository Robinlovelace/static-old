<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>GEOSTAT 2015: a write-up</title>
    <meta name="description" content="environmental geographer, transport modeller, energy researcher
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://robinlovelace.net/r/2015/08/31/geostat-writeup.html">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Robin Lovelace</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about">About Robin Lovelace</a>
          
        
          
        
          
          <a class="page-link" href="/book-reviews">Book reviews</a>
          
        
          
        
          
        
          
          <a class="page-link" href="/sketches/foss4g-2014-r-abstract">FOSS4G-E Abstract</a>
          
        
          
          <a class="page-link" href="/hardware">Hardware</a>
          
        
          
          <a class="page-link" href="/ideas">Ideas</a>
          
        
          
        
          
          <a class="page-link" href="/influential-geographers">Influential geographers</a>
          
        
          
        
          
          <a class="page-link" href="/software/pandoc">Pandoc</a>
          
        
          
          <a class="page-link" href="/presentations">Presentations</a>
          
        
          
          <a class="page-link" href="/publications">Publications</a>
          
        
          
          <a class="page-link" href="/quotes">Quotes</a>
          
        
          
          <a class="page-link" href="/software">Software</a>
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">GEOSTAT 2015: a write-up</h1>
    <p class="post-meta">Aug 31, 2015</p>
  </header>

  <article class="post-content">
    <p>The week before last I attended the <a href="http://geostat-course.org">GEOSTAT</a> summer school in Lancaster. GEOSTAT is an annual week-long meeting devoted to ‘geostatistics’ (or ‘spatial statistics’ - we’ll come on to the difference subsequently).</p>

<p>Having seen the impressive range of materials from previous ‘GEOSTATs’, I was greatly looking forward to the event as a hub of learning, research and community-building, organised by people at the cutting edge of the field. I was not disappointed. The purpose of this post is to say ‘heads up’ to people who are interested, not only in the field of geostatistics but also in free and open source software for geospatial applications (‘<a href="http://foss4g.org/">FOSS4G</a>’) and research-focussed communities using and developing R more widely. For educators, this post also serves to highlight a cache of frankly amazing teaching materials that lie, largely undiscovered, online free for all to use.</p>

<!--more-->

<h2 id="geostatistics-vs-spatial-statistics">Geostatistics vs Spatial Statistics</h2>

<p>The introductory talk was by Professor Pete Diggle from the host institution of the University of Lancaster. He delivered a sweeping overview of the field, tracing the development of spatial statistics from its historical antecedents such as <a href="https://en.wikipedia.org/wiki/Buffon's_needle">Buffon’s needle</a> through agricultural field trials at the famous <a href="https://en.wikipedia.org/wiki/Rothamsted_Research">Rothamsted</a> site to its eventual merging with geostatistical methods developed by the mining industry. The final stage of this fascinating story was the incorporation of spatial statistics into wider statistical theory. The entire roller-coaster ride can be heard in an audio recording that I made of the lecture and read in chapter 1 of <em>The Handbook of Spatial Statists</em> which can be <a href="https://books.google.co.uk/books?id=Xf4leslPDzsC&amp;printsec=frontcover#v=onepage&amp;q&amp;f=false">read online</a> (although nothing beats the physical book) (Gelfand et al. 2010).</p>

<h2 id="the-evolving-landscape-of-rs-spatial-ecosystem">The evolving landscape of R’s spatial ecosystem</h2>

<p>The next wide-ranging and agenda-setting introductory lecture was by Roger Bivand, a veteran R developer and author of the seminal Applied Spatial Data Analysis with R (Bivand, Pebesma, and Gómez-Rubio 2013). His <a href="http://geostat-course.org/system/files/geostat_talk_150817.pdf">slides</a> provide the best up-to-date overview of the state of R’s spatial capabilities available, to the best of my knowledge. Roger has a deep understanding not only of R’s spatial technology but also of its politics. This was illustrated by his commentary on the shifting attitude of ESRI towards R’s spatial capabilities, with reference to <a href="https://github.com/R-ArcGIS/r-bridge"><code class="highlighter-rouge">r-bridge</code></a>, a mostly open source project allowing ArcMap users to call R scripts from within this popular proprietary GIS. Dangers for the future are fragmentation within R’s spatial community and the heavy reliance on a few veteran programmers while much of R’s core code-base is older than the latest generation R users!</p>

<h2 id="geostatistical-models-in-r">Geostatistical models in R</h2>

<p>Despite not attending this side of the parallel stream during day 2 I can recommend the <a href="http://geostat-course.org/node/1284">resources that were provided</a>. Patrick Brown is an expert in spatial statistics and his tutorials and <a href="http://pbrown.ca/teaching/geostat2015/">worked examples</a> could be gold dust for anyone who wants to use Bayesian inference to understand spatial processes.</p>

<p>Brown (2015) provides a well-written academic companion to these excellent teaching materials, from the academic literature.</p>

<h2 id="the-spacetime-package">The spacetime package</h2>

<p>This session described methods for representing, processing and visualising spatio-temporal data, i.e. that has space and time dimensions. In addition to the ‘core’ <strong>spacetime package</strong> developed by the lecturer Edzer Pebesma, the online tutorial described a number of packages that interact with spacetime to provide an impressive range of functionality. The following command, for example, subsets all the data in the spacetime object that from 2005 to 2011:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>rural[sel,"2005::2011"]
</code></pre>
</div>

<p>This and many other examples of spacetime’s functionality are provided for free on <a href="https://github.com/edzer/geostat/blob/master/Lancaster.Rmd">Edzer’s GitHub repository</a>.</p>

<h2 id="area-data-with-r">Area data with R</h2>

<p>Theresa Smith provided a fantastic introduction to areal data, whereby each unit - typically administrative zones - represents a contiguous tract of land. The discussion moved swiftly from the theory into practical application using <strong>spdep</strong> and <strong>INLA</strong> packages. The materials associated with this session are <a href="http://geostat-course.org/node/1287">online</a>, providing a valuable resource to people struggling to make sense of areal data.</p>

<h2 id="reproducible-geography">Reproducible geography</h2>

<p>Chris Brunsdon provided an off-the-cuff tutorial on <strong>knitr</strong> for making geographical research more accessible and easy to replicate. This reproducible ethic can be seen in his <a href="http://geostat-course.org/node/1288">teaching materials on Geographically Weighted Regression (GWR)</a> and a recently published <a href="http://phg.sagepub.com/cgi/doi/10.1177/0309132515599625">academic paper (Brunsdon 2015)</a>.</p>

<h2 id="the-summer-school-vibe">The summer school vibe</h2>

<p>There were many other highlights to the conference, many of which were not related to R. The conference had an excellent vibe and everyone to my knowledge had a great time. There were several social events (including an orienteering challenge around Lancaster!) which were fantastic, not to mention the provision of sufficient food, drink and caffeine to keep us all working hard. Instead of trying to do justice to all these things I’ll focus on two: the GEOSTAT <em>challenges</em> and the ride home.</p>

<h3 id="challenges">Challenges</h3>

<p>To test our newly acquired skills the lecturers set a couple of challenges for the students: the <em>spatial prediction</em> and <em>visualisation</em> challenges. The spatial prediction challenge was to estimate the rainfall at specific points at specific times, based on a training dataset. The visualisation challenge was to visualise the data in a way that showed patterns in the data in space, time and altitude.</p>

<p>A highlight for me was winning the visualisation challenge this this entry (thanks to assistance from Chris Brunsdon):</p>

<iframe src="http://geo8.webarch.net/robin/vizcomp/" height="800" width="800">
</iframe>
<p>More information on this entry can be seen in <a href="http://rpubs.com/RobinLovelace/102391">this mini article</a>, which describes the use of the excellent <strong>RcppRoll</strong> package with reference to the following image.</p>

<p><a href="http://rpubs.com/RobinLovelace/102391"><img src="https://dl.dropboxusercontent.com/u/15008199/img/rollmean.png" alt="" /></a>.</p>

<h2 id="the-ride-home">The ride home</h2>

<p>Another highlight was the bicycle ride home back to Leeds, which passed through the glorious <a href="http://forestofbowland.com/">Bowland Forest AONB</a>. It even passed through <a href="https://en.wikipedia.org/wiki/Dunsop_Bridge">Dunsop Bridge</a>, which (according to BT at least!) is the centroid of Great Britain. Here’s an R challenge: test BT’s assertion (<a href="https://plus.google.com/+RobinLovelace/posts/U9zz8F14ACH">illustrated here</a>)that this really is the geographic centroid of Great Britain, using only R code.</p>

<p>Following the R fervour, I even planned this route in R, using the following code and which uses the <a href="https://github.com/Robinlovelace/stplanr"><strong>stplanr</strong></a> I’m developing, leading to the map illustrated below:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>devtools::install_github("robinlovelace/stplanr")
library(stplanr)
r &lt;- route_graphhopper(from = "Lancaster University", to = "Leeds")
library(leaflet)
leaflet() %&gt;% addTiles() %&gt;% addPolylines(data = r)
</code></pre>
</div>

<iframe src="http://rpubs.com/RobinLovelace/106222" width="600" height="400">
</iframe>
<p>Resources
———</p>

<p>Other than the links provided above, there are a number of additional excellent resources for teaching R as a free and open source command-line Geographical Information System (GIS). In addition to the highly recommended <a href="http://www.geostat-course.org/2015">GEOSTAT website</a>, <a href="http://gis.stackexchange.com/">gis.stackexchange</a> and the <a href="https://stat.ethz.ch/mailman/listinfo/r-sig-geo">r-sig-geo</a> mailing group, these are, in roughly increasing order of difficulty:</p>

<ul>
  <li>
    <p><a href="https://github.com/Robinlovelace/Creating-maps-in-R"><em>Introduction to visualising spatial data</em></a> is an introductory tutorial by myself, James Cheshire and others (Lovelace and Cheshire 2014) which aims to help people who are just getting started with R and spatial data. It has numerous challenges for all abilities and covers a range of approaches for creating maps in R, including R’s base graphics, <a href="https://github.com/dkahle/ggmap">ggmap</a>, <a href="https://github.com/mtennekes/tmap">tmap</a> and <a href="https://github.com/rstudio/leaflet">leaflet</a> for creating online interactive maps, such <a href="http://geo8.webarch.net/robin/vizcomp/">this</a> (described subsequently).</p>
  </li>
  <li>
    <p><a href="http://www.lulu.com/shop/tomislav-hengl/a-practical-guide-to-geostatistical-mapping/ebook/product-17389015.html">A Practical Guide to Geostatistical Mapping</a> by GEOSTAT lecturer Tom Hengl is free E-Book outlining powerful geostatistical methods and visualisation techniques (focussed Google Earth), primarily in R.</p>
  </li>
  <li>
    <p><a href="ftp://ftp.bgc-jena.mpg.de/pub/outgoing/mforkel/Rcourse/">Analysis of spatial data in R</a> provides an up-to-date overview of spatial data analysis in R from a Biogeochemistry perspective. It contains worked examples, challenges and solutions.</p>
  </li>
  <li>
    <p>The <a href="https://cran.r-project.org/web/packages/HSAUR2/">Handbook of Spatial Analysis Using R, 2nd Edition</a> is a comprehensive yet seemingly little-known textbook and R package dedicated to using R for a wide range of spatial applications. It contains a number of example datasets that may be of interest.</p>
  </li>
  <li>
    <p><a href="https://cran.r-project.org/web/views/Spatial.html">CRAN’s Spatial Task View</a>, maintained by Roger Bivand, provides a wealth of links and information about R’s incredible and growing range of spatial packages.</p>
  </li>
</ul>

<h2 id="acknowledgements">Acknowledgements</h2>

<p>I would like to thank everyone involved for making GEOSTAT 2015 happen and really look forward to GEOSTAT 2016. Barry Rowlingson was central to making it happen so I salute him and Tom Hengl for herding all us cats towards Geo R Spatial Enlightenment. Until next year!</p>

<h2 id="references">References</h2>

<p>Bivand, Roger S, Edzer J Pebesma, and Virgilio Gómez-Rubio. 2013. <em>Applied spatial data analysis with R</em>. Vol. 747248717. Springer.</p>

<p>Brown, Patrick E. 2015. “Model-Based Geostatistics the Easy Way.” <em>Journal of Statistical Software</em> 63 (12): ??—–?? <a href="http://www.jstatsoft.org/v63/i12">http://www.jstatsoft.org/v63/i12</a>.</p>

<p>Brunsdon, C. 2015. “Quantitative methods I: Reproducible research and quantitative geography.” <em>Progress in Human Geography</em>. doi:<a href="http://dx.doi.org/10.1177/0309132515599625">10.1177/0309132515599625</a>.</p>

<p>Gelfand, Alan E, Peter Diggle, Peter Guttorp, and Montserrat Fuentes. 2010. <em>Handbook of spatial statistics</em>. CRC press.</p>

<p>Lovelace, Robin, and James Cheshire. 2014. “Introduction to visualising spatial data in R.” <em>National Centre for Research Methods Working Papers</em> 14 (03). London: National Centre for Research Methods; Comprehensive R Archive Network. <a href="https://github.com/Robinlovelace/Creating-maps-in-R http://eprints.ncrm.ac.uk/3295/">https://github.com/Robinlovelace/Creating-maps-in-R http://eprints.ncrm.ac.uk/3295/</a>.</p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Robin Lovelace</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Robin Lovelace</li>
          <li><a href="mailto:rob00x@gmail.com">rob00x@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/robinlovelace">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">robinlovelace</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/robinlovelace">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">robinlovelace</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">environmental geographer, transport modeller, energy researcher
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
